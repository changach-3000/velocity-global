/// <reference path="../pb_data/types.d.ts" />
migrate((app) => {
  const collection = app.findCollectionByNameOrId("lesson_content");

  const record0 = new Record(collection);
    record0.set("lesson_id", "lesson_2_1_id");
    record0.set("content_body", "SECTION 1: CUSTOMER SEGMENTATION\n\nWhat is Customer Segmentation?\n- Dividing customers into distinct groups\n- Each group has similar characteristics/needs\n- Enables targeted strategies\n- Example: Segment by industry, company size, geography\n\nSegmentation Approaches:\n\n1. Industry Segmentation:\n   - Divide by industry\n   - Example: Manufacturing, Healthcare, IT, Retail, Construction\n   - Benefit: Industry-specific solutions\n   - Example: Healthcare equipment has different needs than IT\n\n2. Company Size Segmentation:\n   - Divide by revenue or employee count\n   - Example: Small ($1M-$10M), Mid-market ($10M-$100M), Enterprise ($100M+)\n   - Benefit: Size-appropriate solutions\n   - Example: Enterprise needs different support than small business\n\n3. Geographic Segmentation:\n   - Divide by location\n   - Example: North America, Europe, Asia, by region, by city\n   - Benefit: Local market focus\n   - Example: Regional differences in equipment needs\n\n4. Behavioral Segmentation:\n   - Divide by buying behavior, usage, loyalty\n   - Example: High-volume users, occasional users, price-sensitive, quality-focused\n   - Benefit: Behavior-specific strategies\n   - Example: High-volume users need volume discounts\n\n5. Needs-Based Segmentation:\n   - Divide by customer needs\n   - Example: Flexibility-focused, cost-focused, service-focused, innovation-focused\n   - Benefit: Need-specific solutions\n   - Example: Flexibility-focused customers need upgrade options\n\n6. Value-Based Segmentation:\n   - Divide by customer lifetime value\n   - Example: High-value, medium-value, low-value customers\n   - Benefit: Resource allocation based on value\n   - Example: Allocate premium service to high-value customers");
  app.save(record0);

  const record1 = new Record(collection);
    record1.set("lesson_id", "lesson_2_1_id");
    record1.set("content_body", "SECTION 2: CUSTOMER PERSONAS\n\nWhat is a Customer Persona?\n- Detailed profile of ideal customer\n- Represents a customer segment\n- Guides marketing and sales strategies\n- Example: \"Manufacturing Manager Mike\"\n\nCustomer Persona Components:\n\n1. Demographics:\n   - Company size, industry, location\n   - Decision-maker role, experience\n   - Example: Mid-size manufacturer, $50M revenue, Operations Manager\n\n2. Psychographics:\n   - Values, attitudes, priorities\n   - Pain points, goals\n   - Example: Values reliability, wants to reduce costs, needs flexibility\n\n3. Buying Behavior:\n   - How they buy, decision process\n   - Timeline, budget, approval process\n   - Example: Uses RFP, 6-month decision cycle, $500K budget\n\n4. Needs and Challenges:\n   - What they need, what challenges they face\n   - How leasing helps\n   - Example: Needs flexible equipment, challenges with capital constraints\n\n5. Success Metrics:\n   - How they measure success\n   - What outcomes they want\n   - Example: Reduce equipment costs by 20%, improve uptime to 99%\n\nCreating Customer Personas:\n\nStep 1: Research:\n- Interview customers\n- Analyze customer data\n- Conduct surveys\n- Example: Interview 20 customers, analyze 100 customer records\n\nStep 2: Identify Patterns:\n- Look for common characteristics\n- Group similar customers\n- Identify distinct segments\n- Example: 3 distinct customer types emerge\n\nStep 3: Create Personas:\n- Develop detailed profiles\n- Give personas names\n- Document characteristics\n- Example: \"Manufacturing Manager Mike\", \"Healthcare Director Diana\"\n\nStep 4: Validate Personas:\n- Test with customers\n- Refine based on feedback\n- Ensure accuracy\n- Example: 80% of customers identify with one of the personas");
  app.save(record1);

  const record2 = new Record(collection);
    record2.set("lesson_id", "lesson_2_1_id");
    record2.set("content_body", "SECTION 3: TARGETING STRATEGY\n\nWhat is Targeting?\n- Selecting which customer segments to serve\n- Allocating resources to target segments\n- Developing segment-specific strategies\n- Example: Target mid-market manufacturers and healthcare providers\n\nTargeting Approaches:\n\n1. Undifferentiated Targeting:\n   - Serve all customers with same offering\n   - Low cost, but less effective\n   - Example: One-size-fits-all lease product\n\n2. Differentiated Targeting:\n   - Serve multiple segments with different offerings\n   - Higher cost, more effective\n   - Example: Different products for manufacturing vs. healthcare\n\n3. Concentrated Targeting:\n   - Focus on one or few segments\n   - High specialization, lower risk\n   - Example: Focus only on healthcare equipment\n\n4. Micro-Targeting:\n   - Target very specific customer groups\n   - Highly personalized\n   - Example: Target only large teaching hospitals in Northeast\n\nTargeting Process:\n\nStep 1: Evaluate Segments:\n- Market size, growth, profitability\n- Competitive intensity, barriers to entry\n- Example: Healthcare segment = $20B, 12% growth, 5 competitors\n\nStep 2: Select Target Segments:\n- Choose segments to serve\n- Prioritize based on attractiveness\n- Example: Target healthcare (high growth) and manufacturing (large size)\n\nStep 3: Develop Segment Strategies:\n- Develop strategies for each segment\n- Customize offerings, pricing, marketing\n- Example: Healthcare = premium service, Manufacturing = cost-effective\n\nStep 4: Allocate Resources:\n- Allocate sales, marketing, support resources\n- Invest in segment-specific capabilities\n- Example: Hire healthcare specialist, develop healthcare marketing");
  app.save(record2);

  const record3 = new Record(collection);
    record3.set("lesson_id", "lesson_2_1_id");
    record3.set("content_body", "SECTION 4: CASE STUDY - SEGMENTLEASING INC.\n\nSituation: Developing customer segmentation and targeting strategy\n\nCustomer Segmentation:\n\nSegment 1: Healthcare Providers\n- Size: 500 potential customers in region\n- Characteristics: Hospitals, clinics, medical practices\n- Needs: Reliability, compliance, 24/7 support\n- Value: High (long-term relationships, high volume)\n- Example: 100-bed hospital, $50M revenue, needs 50 pieces of equipment\n\nSegment 2: Manufacturing Companies\n- Size: 1,000 potential customers in region\n- Characteristics: Small to mid-size manufacturers\n- Needs: Flexibility, cost-effectiveness, quick approvals\n- Value: Medium (moderate volume, shorter relationships)\n- Example: 200-employee manufacturer, $30M revenue, needs 20 pieces of equipment\n\nSegment 3: Technology Companies\n- Size: 800 potential customers in region\n- Characteristics: IT companies, software firms\n- Needs: Latest technology, upgrade options, flexibility\n- Value: Medium (high volume, shorter equipment life)\n- Example: 100-employee tech company, $20M revenue, needs 100 computers\n\nSegment 4: Retail Companies\n- Size: 2,000 potential customers in region\n- Characteristics: Retail stores, chains\n- Needs: Cost-effectiveness, simplicity, quick setup\n- Value: Low (low volume, price-sensitive)\n- Example: 50-store retail chain, $100M revenue, needs 200 POS systems\n\nCustomer Personas:\n\nPersona 1: \"Healthcare Director Diana\"\n- Role: Director of Operations at 100-bed hospital\n- Needs: Reliable equipment, 24/7 support, compliance\n- Pain points: Equipment downtime, compliance complexity\n- Success metric: 99.9% uptime, zero compliance issues\n- Budget: $500K annually\n- Decision timeline: 3 months\n\nPersona 2: \"Manufacturing Manager Mike\"\n- Role: Operations Manager at mid-size manufacturer\n- Needs: Flexible terms, cost-effective, quick approvals\n- Pain points: Capital constraints, equipment obsolescence\n- Success metric: 20% cost reduction, 50% faster approvals\n- Budget: $300K annually\n- Decision timeline: 2 months\n\nPersona 3: \"Tech Director Tom\"\n- Role: IT Director at technology company\n- Needs: Latest technology, upgrade options, flexibility\n- Pain points: Rapid technology changes, budget constraints\n- Success metric: Latest equipment, 2-year upgrade cycle\n- Budget: $200K annually\n- Decision timeline: 1 month\n\nTargeting Strategy:\n\nPrimary Target: Healthcare Providers\n- Rationale: High value, stable, long-term relationships\n- Strategy: Premium service, 24/7 support, compliance expertise\n- Resource allocation: 40% of sales team, premium support team\n- Expected results: 50 customers, $25M annual revenue\n\nSecondary Target: Manufacturing Companies\n- Rationale: Large market, good value, growth potential\n- Strategy: Cost-effective, flexible terms, quick approvals\n- Resource allocation: 40% of sales team, standard support\n- Expected results: 100 customers, $30M annual revenue\n\nTertiary Target: Technology Companies\n- Rationale: High volume, upgrade opportunities\n- Strategy: Latest technology, upgrade options, flexibility\n- Resource allocation: 15% of sales team, tech-focused support\n- Expected results: 50 customers, $10M annual revenue\n\nNot Targeted: Retail Companies\n- Rationale: Low value, price-sensitive, high competition\n- Strategy: Not pursuing this segment\n- Resource allocation: 5% for opportunistic deals\n- Expected results: 10 customers, $2M annual revenue");
  app.save(record3);

  const record4 = new Record(collection);
    record4.set("lesson_id", "lesson_2_2_id");
    record4.set("content_body", "SECTION 1: LEASE PRODUCT DESIGN\n\nWhat is a Lease Product?\n- Specific lease offering with defined terms\n- Designed for specific customer segment\n- Includes equipment, terms, services\n- Example: \"Healthcare Premium Lease\" with 24/7 support\n\nLease Product Components:\n\n1. Equipment Type:\n   - What equipment is included?\n   - New vs. used, quality level\n   - Example: Medical imaging equipment, latest models\n\n2. Lease Term:\n   - How long is the lease?\n   - Typical: 24-60 months\n   - Example: 36-month standard term, 24-60 month options\n\n3. Monthly Payment:\n   - What is the monthly cost?\n   - Based on equipment cost, term, residual value\n   - Example: $5,000/month for $200K equipment\n\n4. Maintenance and Support:\n   - What is included?\n   - Full-service vs. net lease\n   - Example: Full-service includes maintenance, insurance, support\n\n5. Upgrade Options:\n   - Can equipment be upgraded?\n   - When and how?\n   - Example: Upgrade to newer model after 24 months\n\n6. Residual Value:\n   - What is equipment worth at end?\n   - Affects monthly payment\n   - Example: 25% residual value = lower monthly payment\n\n7. Flexibility Features:\n   - Early termination options\n   - Expansion options\n   - Modification options\n   - Example: Early termination with 10% penalty");
  app.save(record4);

  const record5 = new Record(collection);
    record5.set("lesson_id", "lesson_2_2_id");
    record5.set("content_body", "SECTION 2: PRODUCT CUSTOMIZATION\n\nWhat is Customization?\n- Tailoring lease products to customer needs\n- Modifying standard terms and conditions\n- Creating unique solutions\n- Example: Custom lease with specific upgrade schedule\n\nCustomization Approaches:\n\n1. Term Customization:\n   - Customize lease term\n   - Example: 48-month term instead of standard 36-month\n\n2. Payment Customization:\n   - Customize payment schedule\n   - Example: Seasonal payments (higher in peak season)\n\n3. Service Customization:\n   - Customize maintenance and support\n   - Example: 24/7 support vs. business hours only\n\n4. Equipment Customization:\n   - Customize equipment specifications\n   - Example: Specific features or configurations\n\n5. Feature Customization:\n   - Add or remove features\n   - Example: Add upgrade option, remove early termination\n\n6. Pricing Customization:\n   - Customize pricing based on volume, loyalty, etc.\n   - Example: Volume discount for multiple leases\n\nCustomization Process:\n\nStep 1: Understand Customer Needs:\n- What does customer need?\n- What are their constraints?\n- Example: Need flexibility, limited budget\n\nStep 2: Identify Customization Options:\n- What can be customized?\n- What are the constraints?\n- Example: Can customize term, payment, services\n\nStep 3: Develop Custom Solution:\n- Design custom lease product\n- Ensure profitability\n- Example: 48-month term, seasonal payments, premium support\n\nStep 4: Present and Negotiate:\n- Present custom solution to customer\n- Negotiate terms\n- Example: Customer accepts with minor modifications\n\nStep 5: Implement and Monitor:\n- Implement custom lease\n- Monitor performance\n- Example: Track customer satisfaction, profitability");
  app.save(record5);

  const record6 = new Record(collection);
    record6.set("lesson_id", "lesson_2_2_id");
    record6.set("content_body", "SECTION 3: CASE STUDY - PRODUCTLEASING INC.\n\nSituation: Designing lease products for different customer segments\n\nProduct 1: Healthcare Premium Lease\n\nTarget Customer: Healthcare providers (hospitals, clinics)\nEquipment: Medical imaging, diagnostic equipment\nLease Term: 36-60 months\nMonthly Payment: $5,000-$10,000 (depending on equipment)\nMaintenance: Full-service (included)\nSupport: 24/7 on-site support\nUpgrade: Annual upgrade option\nResidual: 20% (conservative for medical equipment)\nFeatures: Compliance support, regulatory updates, training\nCustomization: Available for large customers\nExample: 100-bed hospital, $500K equipment, $12,000/month\n\nProduct 2: Manufacturing Flexible Lease\n\nTarget Customer: Manufacturing companies\nEquipment: Production equipment, machinery\nLease Term: 24-48 months (flexible)\nMonthly Payment: $3,000-$8,000 (depending on equipment)\nMaintenance: Net lease (customer responsible)\nSupport: Business hours support\nUpgrade: Upgrade option after 24 months\nResidual: 30% (higher for industrial equipment)\nFeatures: Flexible terms, quick approvals, volume discounts\nCustomization: Highly customizable\nExample: Mid-size manufacturer, $200K equipment, $6,000/month\n\nProduct 3: Technology Upgrade Lease\n\nTarget Customer: Technology companies\nEquipment: Computers, servers, networking equipment\nLease Term: 24-36 months (shorter for tech)\nMonthly Payment: $2,000-$5,000 (depending on equipment)\nMaintenance: Full-service (included)\nSupport: 24/7 technical support\nUpgrade: Upgrade to latest model every 24 months\nResidual: 15% (lower for rapidly obsolescing tech)\nFeatures: Latest technology, upgrade included, trade-in program\nCustomization: Limited (standardized for efficiency)\nExample: 100-employee tech company, $100K equipment, $4,000/month");
  app.save(record6);

  const record7 = new Record(collection);
    record7.set("lesson_id", "lesson_2_3_id");
    record7.set("content_body", "SECTION 1: PRICING STRATEGIES\n\nPricing Approaches:\n\n1. Cost-Plus Pricing:\n   - Calculate cost, add markup\n   - Example: $100K equipment cost + 20% markup = $120K revenue needed\n\n2. Value-Based Pricing:\n   - Price based on customer value\n   - Example: Healthcare lease priced 20% higher due to premium service\n\n3. Competitive Pricing:\n   - Price based on competitor pricing\n   - Example: Match competitor pricing, adjust for differentiation\n\n4. Dynamic Pricing:\n   - Adjust price based on demand, seasonality\n   - Example: Higher prices in peak season, lower in off-season\n\n5. Volume Pricing:\n   - Discount for higher volumes\n   - Example: 5% discount for 10+ leases, 10% for 20+\n\nPricing Factors:\n\n1. Equipment Cost:\n   - Cost of equipment\n   - Example: $100K equipment = higher payment than $50K\n\n2. Lease Term:\n   - Longer term = lower monthly payment\n   - Example: 60-month term = 20% lower payment than 36-month\n\n3. Residual Value:\n   - Higher residual = lower monthly payment\n   - Example: 30% residual = 10% lower payment than 20%\n\n4. Cost of Capital:\n   - Interest rate to finance lease\n   - Example: 5% cost of capital = lower payment than 7%\n\n5. Default Risk:\n   - Higher risk = higher payment\n   - Example: Subprime customer = 5% higher payment\n\n6. Competition:\n   - Competitive pricing pressure\n   - Example: Competitor pricing = 10% lower = must adjust\n\n7. Target ROI:\n   - Desired return on investment\n   - Example: 12% target ROI = specific payment required");
  app.save(record7);

  const record8 = new Record(collection);
    record8.set("lesson_id", "lesson_2_3_id");
    record8.set("content_body", "SECTION 2: LEASE TERMS OPTIMIZATION\n\nKey Lease Terms:\n\n1. Lease Term:\n   - Duration of lease\n   - Typical: 24-60 months\n   - Longer term = lower payment, higher risk\n\n2. Monthly Payment:\n   - Amount paid each month\n   - Based on equipment cost, term, residual\n   - Example: $5,000/month\n\n3. Residual Value:\n   - Equipment value at end of lease\n   - Affects monthly payment\n   - Example: 25% residual value\n\n4. Maintenance:\n   - Who pays for maintenance?\n   - Full-service vs. net lease\n   - Example: Lessor pays (full-service) vs. lessee pays (net)\n\n5. Insurance:\n   - Who pays for insurance?\n   - Lessor or lessee\n   - Example: Lessor pays (full-service) vs. lessee pays (net)\n\n6. Upgrade Options:\n   - Can equipment be upgraded?\n   - When and how?\n   - Example: Upgrade after 24 months to latest model\n\n7. Early Termination:\n   - Can lease be terminated early?\n   - What is the penalty?\n   - Example: 10% penalty for early termination\n\n8. Renewal Options:\n   - Can lease be renewed?\n   - What are the terms?\n   - Example: Renew at fair market value");
  app.save(record8);

  const record9 = new Record(collection);
    record9.set("lesson_id", "lesson_2_3_id");
    record9.set("content_body", "SECTION 3: CASE STUDY - PRICINGLEASING INC.\n\nSituation: Developing pricing and terms strategy\n\nLease Product: Manufacturing Equipment Lease\n\nEquipment: $200K manufacturing equipment\nLease Term: 48 months\nResidual Value: 30%\n\nCost Analysis:\n- Equipment cost: $200K\n- Financing cost (5% annual): $20K\n- Maintenance (net lease): $0\n- Insurance (lessee pays): $0\n- Administrative: $5K\n- Total cost: $225K\n\nPricing Calculation:\n\nMethod 1: Cost-Plus (20% markup)\n- Cost: $225K\n- Markup: $45K\n- Total revenue needed: $270K\n- Monthly payment: $270K / 48 = $5,625\n\nMethod 2: Value-Based (15% premium for flexibility)\n- Base payment: $5,000\n- Premium for flexibility: $750\n- Monthly payment: $5,750\n\nMethod 3: Competitive (match competitor)\n- Competitor payment: $5,500\n- Our payment: $5,500 (match)\n\nMethod 4: Target ROI (12% ROI)\n- Investment: $200K\n- Target profit: $24K\n- Total revenue needed: $249K\n- Monthly payment: $249K / 48 = $5,188\n\nSelected Pricing:\n- Monthly payment: $5,500\n- Rationale: Competitive, profitable, value-based\n\nTerms Optimization:\n\nStandard Terms:\n- Lease term: 48 months\n- Monthly payment: $5,500\n- Residual: 30%\n- Maintenance: Net lease (lessee pays)\n- Insurance: Lessee pays\n- Upgrade: Not included\n- Early termination: 10% penalty\n- Renewal: Fair market value\n\nCustomized Terms (for high-value customer):\n- Lease term: 60 months (longer)\n- Monthly payment: $4,800 (lower due to longer term)\n- Residual: 25% (lower, more conservative)\n- Maintenance: Full-service (lessor pays)\n- Insurance: Lessor pays\n- Upgrade: Upgrade option after 36 months\n- Early termination: 5% penalty (lower)\n- Renewal: Renewal option at 80% of fair market value\n\nProfitability Analysis:\n\nStandard Lease:\n- Total revenue: $5,500 \u00d7 48 = $264K\n- Total cost: $225K\n- Profit: $39K\n- ROI: 19.5%\n\nCustomized Lease:\n- Total revenue: $4,800 \u00d7 60 = $288K\n- Total cost: $245K (higher due to full-service)\n- Profit: $43K\n- ROI: 17.6%\n\nDecision:\n- Standard lease: Higher ROI, lower customization\n- Customized lease: Lower ROI, higher customer satisfaction\n- Strategy: Use customized lease for high-value customers to build loyalty");
  app.save(record9);
}, (app) => {
  // Rollback: record IDs not known, manual cleanup needed
})
