/// <reference path="../pb_data/types.d.ts" />
migrate((app) => {
  const collection = app.findCollectionByNameOrId("lesson_content");

  const record0 = new Record(collection);
    record0.set("lesson_id", "pbc_lesson_3");
    record0.set("content_body", "# IAS 17 vs. IFRS 16\n\n## Section 1: Similarities Between IAS 17 and IFRS 16\n\n### Core Similarities:\n\n**1. Lease Definition:**\n- Both define lease similarly\n- Contract conveying right to use asset\n- For period of time\n\n**2. Lease Classification (Lessor):**\n- Both classify leases as finance or operating\n- Both use similar classification criteria\n- Example: 5-year lease of 7-year asset = finance lease\n\n**3. Finance Lease Accounting (Lessor):**\n- Both recognize lease receivable\n- Both recognize finance income\n- Example: $500K equipment = $500K lease receivable\n\n**4. Operating Lease Accounting (Lessor):**\n- Both retain underlying asset\n- Both recognize lease income\n- Example: $10K/month = $120K/year lease income\n\n**5. Lease Term Definition:**\n- Both include non-cancellable period\n- Both include renewal periods (if reasonably certain)\n- Example: 5-year lease + 2-year renewal = 7-year term\n\n## Section 2: Key Differences Between IAS 17 and IFRS 16\n\n### Difference 1: Lessee Accounting Model\n\n**IAS 17:**\n- Dual model: Finance vs. operating leases\n- Finance leases: On balance sheet (asset + liability)\n- Operating leases: Off balance sheet (expense only)\n\n**IFRS 16:**\n- Single model: All leases on balance sheet\n- All leases: ROU asset + lease liability\n\n**Impact:**\n- IFRS 16 brings operating leases onto balance sheet\n- Increases total assets and liabilities\n\n### Difference 2: Operating Lease Accounting\n\n**IAS 17:**\n- Operating leases: Lease expense recognized straight-line\n- No asset or liability recognized\n\n**IFRS 16:**\n- Operating leases: ROU asset and lease liability recognized\n- Depreciation + interest expense recognized\n\n**Impact:**\n- IFRS 16 requires balance sheet recognition\n- Changes financial ratios\n\n### Difference 3: Lease Modifications\n\n**IAS 17:**\n- Limited guidance on modifications\n- Treated as new lease or adjustment\n\n**IFRS 16:**\n- Comprehensive guidance on modifications\n- Remeasure if modification changes scope or consideration\n\n**Impact:**\n- IFRS 16 more prescriptive\n- Clearer accounting treatment\n\n### Difference 4: Lessor Accounting\n\n**IAS 17:**\n- Finance vs. operating distinction maintained\n- Finance leases: Derecognize asset, recognize receivable\n- Operating leases: Retain asset, recognize income\n\n**IFRS 16:**\n- Finance vs. operating distinction maintained\n- Similar treatment to IAS 17\n\n**Impact:**\n- Lessor accounting largely unchanged\n- Minor differences in presentation\n\n## Section 3: Case Study - IAS 17 vs. IFRS 16\n\n### Company: InternationalCorp\n\n### Lease Portfolio (IAS 17):\n\n**Finance Leases:**\n- 10 finance leases\n- Total assets: $10M\n- Total liabilities: $8M\n- Annual lease expense: $1.5M\n\n**Operating Leases:**\n- 50 operating leases\n- Total lease payments: $50M\n- Off-balance sheet\n- Annual lease expense: $5M\n\n**Total Lease Expense (IAS 17): $6.5M**\n\n### Transition to IFRS 16:\n\n**Finance Leases (Unchanged):**\n- 10 finance leases\n- Total ROU assets: $10M\n- Total lease liabilities: $8M\n- Annual lease expense: $1.5M\n\n**Operating Leases (Now on Balance Sheet):**\n- 50 operating leases\n- Total ROU assets: $45M\n- Total lease liabilities: $40M\n- Annual lease expense: $5.2M\n\n**Total Lease Expense (IFRS 16): $6.7M**\n\n### Financial Statement Impact:\n\n**Balance Sheet (Transition Date):**\n- Total assets increase: $45M\n- Total liabilities increase: $40M\n- Equity impact: $5M\n\n**Income Statement (Year 1):**\n- Lease expense increases: $6.5M to $6.7M\n- Net income impact: -$0.2M\n\n**Financial Ratios:**\n\n**Debt-to-Equity Ratio:**\n- IAS 17: 0.5 ($40M debt / $80M equity)\n- IFRS 16: 0.6 ($80M debt / $120M equity)\n- Impact: Ratio increases 20%");
  app.save(record0);

  const record1 = new Record(collection);
    record1.set("lesson_id", "pbc_lesson_4");
    record1.set("content_body", "# IFRS 16 Global Implementation\n\n## Section 1: IFRS 16 Adoption Timeline\n\n### Global Adoption Timeline:\n\n**January 1, 2019: Effective Date**\n- IFRS 16 becomes effective\n- Public companies required to adopt\n- Example: EU, UK, Australia, Canada, Japan, India\n\n**2019-2020: Early Adoption**\n- Some companies adopt early\n- Prepare for transition\n- Example: Large multinational companies\n\n**2020-2021: Widespread Adoption**\n- Most IFRS companies adopt\n- Transition entries recorded\n- Example: Majority of IFRS companies\n\n**2022 and Beyond: Full Implementation**\n- All IFRS companies fully implemented\n- Mature accounting processes\n- Example: Stable lease accounting\n\n## Section 2: Jurisdiction-Specific Considerations\n\n### European Union:\n\n**IFRS 16 Adoption:**\n- Mandatory for public companies\n- Effective January 1, 2019\n- Example: All EU public companies\n\n**Implementation Challenges:**\n- Large number of leases\n- Complex lease arrangements\n- Example: Multinational companies\n\n### United Kingdom:\n\n**IFRS 16 Adoption:**\n- Mandatory for public companies\n- Effective January 1, 2019\n- Example: All UK public companies\n\n**Post-Brexit Considerations:**\n- Continued IFRS 16 adoption\n- Alignment with EU standards\n- Example: UK maintains IFRS 16\n\n### Australia:\n\n**IFRS 16 Adoption:**\n- Mandatory for public companies\n- Effective January 1, 2019\n- Example: All Australian public companies\n\n**Implementation Approach:**\n- Modified retrospective approach common\n- Cumulative effect adjustment\n- Example: No restatement of prior periods\n\n### Canada:\n\n**IFRS 16 Adoption:**\n- Mandatory for public companies\n- Effective January 1, 2019\n- Example: All Canadian public companies\n\n**Implementation Challenges:**\n- Large lease portfolios\n- Complex lease arrangements\n- Example: Real estate and equipment leases\n\n### Japan:\n\n**IFRS 16 Adoption:**\n- Optional for public companies\n- Many companies use Japanese GAAP\n- Example: Some companies adopt IFRS 16\n\n**Implementation Approach:**\n- Selective adoption\n- Parallel accounting systems\n- Example: IFRS 16 and Japanese GAAP\n\n## Section 3: Implementation Challenges and Solutions\n\n### Challenge 1: Lease Identification\n\n**Problem:**\n- Identifying all leases in organization\n- Distinguishing leases from service contracts\n- Example: 1,000+ potential leases\n\n**Solution:**\n- Comprehensive lease inventory\n- Clear lease identification criteria\n- Example: Systematic review of all contracts\n\n### Challenge 2: Lease Valuation\n\n**Problem:**\n- Determining lease term\n- Selecting appropriate discount rate\n- Example: Implicit rate unknown\n\n**Solution:**\n- Lease valuation tools\n- Incremental borrowing rate determination\n- Example: Standardized valuation process\n\n### Challenge 3: System Implementation\n\n**Problem:**\n- Updating accounting systems\n- Integrating lease data\n- Example: Legacy systems not equipped\n\n**Solution:**\n- Lease accounting software\n- System integration\n- Example: Specialized lease accounting platforms\n\n### Challenge 4: Disclosure Requirements\n\n**Problem:**\n- Comprehensive disclosures required\n- Complex disclosure schedules\n- Example: Detailed lease payment schedules\n\n**Solution:**\n- Disclosure templates\n- Automated disclosure generation\n- Example: Standardized disclosure formats\n\n## Section 4: Case Study - IFRS 16 Global Implementation\n\n### Company: GlobalCorp\n\n### Lease Portfolio:\n\n**Europe (500 leases):**\n- Total ROU assets: $250M\n- Total lease liabilities: $225M\n- Implementation timeline: 2019\n\n**United Kingdom (200 leases):**\n- Total ROU assets: $100M\n- Total lease liabilities: $90M\n- Implementation timeline: 2019\n\n**Australia (150 leases):**\n- Total ROU assets: $75M\n- Total lease liabilities: $67M\n- Implementation timeline: 2019\n\n**Canada (100 leases):**\n- Total ROU assets: $50M\n- Total lease liabilities: $45M\n- Implementation timeline: 2019\n\n**Japan (50 leases):**\n- Total ROU assets: $25M\n- Total lease liabilities: $22M\n- Implementation timeline: 2020\n\n### Total Global Implementation:\n\n**Total Leases: 1,000**\n**Total ROU Assets: $500M**\n**Total Lease Liabilities: $450M**\n**Implementation Timeline: 2019-2020**\n\n### Financial Statement Impact:\n\n**Consolidated Balance Sheet:**\n- Total assets increase: $500M\n- Total liabilities increase: $450M\n- Equity impact: $50M\n\n**Consolidated Income Statement:**\n- Lease expense increases: $50M to $52M\n- Net income impact: -$2M");
  app.save(record1);

  const record2 = new Record(collection);
    record2.set("lesson_id", "pbc_lesson_5");
    record2.set("content_body", "# Other International Standards\n\n## Section 1: Japanese GAAP Lease Accounting\n\n### Japanese GAAP Overview:\n- Japan uses Japanese GAAP (not IFRS)\n- Lease accounting standard: ASBJ (Accounting Standards Board of Japan)\n- Similar to IAS 17 (dual model)\n- Example: Finance vs. operating lease distinction\n\n### Key Characteristics:\n- Dual lease accounting model\n- Finance leases: On balance sheet\n- Operating leases: Off balance sheet\n- Example: Similar to IAS 17\n\n### IFRS 16 Adoption:\n- Optional for Japanese companies\n- Some companies adopt IFRS 16\n- Many continue with Japanese GAAP\n- Example: Selective adoption\n\n## Section 2: Chinese GAAP Lease Accounting\n\n### Chinese GAAP Overview:\n- China uses Chinese GAAP (not IFRS)\n- Lease accounting standard: ASBE (Accounting Standards for Business Enterprises)\n- Similar to IAS 17 (dual model)\n- Example: Finance vs. operating lease distinction\n\n### Key Characteristics:\n- Dual lease accounting model\n- Finance leases: On balance sheet\n- Operating leases: Off balance sheet\n- Example: Similar to IAS 17\n\n### IFRS 16 Adoption:\n- Not adopted in China\n- Chinese GAAP continues\n- Example: Separate accounting standard\n\n## Section 3: Indian GAAP Lease Accounting\n\n### Indian GAAP Overview:\n- India uses IFRS (Ind AS)\n- Lease accounting standard: Ind AS 116 (based on IFRS 16)\n- Single lease accounting model\n- Example: All leases on balance sheet\n\n### Key Characteristics:\n- Single lease accounting model\n- All leases: ROU asset + lease liability\n- Similar to IFRS 16\n- Example: Aligned with IFRS 16\n\n### Ind AS 116 Adoption:\n- Mandatory for public companies\n- Effective April 1, 2019\n- Example: All Indian public companies\n\n## Section 4: Case Study - International Standards Comparison\n\n### Company: MultiJurisdictionCorp\n\n### Lease Portfolio:\n\n**IFRS Jurisdictions (Europe, UK, Australia, Canada):**\n- 950 leases\n- Total ROU assets: $475M\n- Total lease liabilities: $427M\n- Standard: IFRS 16\n\n**Japanese GAAP Jurisdiction (Japan):**\n- 50 leases\n- Finance leases: $25M assets, $22M liabilities\n- Operating leases: Off-balance sheet\n- Standard: Japanese GAAP\n\n**Chinese GAAP Jurisdiction (China):**\n- 100 leases\n- Finance leases: $50M assets, $45M liabilities\n- Operating leases: Off-balance sheet\n- Standard: Chinese GAAP\n\n**Indian GAAP Jurisdiction (India):**\n- 50 leases\n- Total ROU assets: $25M\n- Total lease liabilities: $22M\n- Standard: Ind AS 116 (IFRS-based)\n\n### Consolidated Financial Statements:\n\n**Total Leases: 1,150**\n**Total ROU Assets: $575M**\n**Total Lease Liabilities: $516M**\n\n### Accounting Complexity:\n- Multiple accounting standards\n- Different lease treatments\n- Consolidation adjustments required\n- Example: Complex consolidation process");
  app.save(record2);
}, (app) => {
  // Rollback: record IDs not known, manual cleanup needed
})
